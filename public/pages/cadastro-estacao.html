<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova Estação de Trabalho - Arco TI</title>
    <link rel="stylesheet" href="./css/cadastro.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

    <main class="page-container">
        <div class="form-wrapper">
            <header class="form-header">
                <a href="/index.html" class="back-link">
                    <i data-lucide="arrow-left"></i>
                    <span>Painel Principal</span>
                </a>
                <h1>Nova Estação de Trabalho</h1>
                <p>Insira os detalhes do ativo para adicioná-lo ao inventário.</p>
            </header>

            <form id="form-cadastro-estacao">
                
                <fieldset class="form-section">
                    <legend>Computador</legend>
                    <div class="fields-grid two-columns">
                        <div class="form-group">
                            <label for="comp-nome">Nome do Computador</label>
                            <input type="text" id="comp-nome" name="comp-nome" required placeholder="Ex: NTB-FIN-0123">
                        </div>
                        <div class="form-group">
                            <label for="comp-serial">Serial Number</label>
                            <input type="text" id="comp-serial" name="comp-serial" required placeholder="Ex: SN-987654321">
                        </div>
                        <div class="form-group">
                            <label for="comp-patrimonio">Patrimônio</label>
                            <input type="text" id="comp-patrimonio" name="comp-patrimonio" placeholder="Ex: 123456">
                        </div>
                        <div class="form-group">
                            <label for="comp-rfid">RFID</label>
                            <input type="text" id="comp-rfid" name="comp-rfid" placeholder="Ex: A1B2C3D4E5">
                        </div>
                        <div class="form-group full-width">
                            <label for="comp-marca">Marca / Modelo</label>
                            <input type="text" id="comp-marca" name="comp-marca" placeholder="Ex: Dell Latitude 5420">
                        </div>
                    </div>
                </fieldset>

                <fieldset class="form-section">
                    <legend>Monitores</legend>
                    <div id="monitores-container">
                        <!-- Monitores são injetados aqui via JavaScript -->
                    </div>
                    <button type="button" id="add-monitor-btn" class="btn btn-secondary">
                        <i data-lucide="plus"></i> Adicionar Monitor
                    </button>
                </fieldset>

                <fieldset class="form-section">
                    <legend>Periféricos Inclusos</legend>
                    <div class="perifericos-grid">
                        <div class="checkbox-tag">
                            <input type="checkbox" id="teclado" name="teclado">
                            <label for="teclado"><i data-lucide="keyboard"></i>Teclado</label>
                        </div>
                        <div class="checkbox-tag">
                            <input type="checkbox" id="mouse" name="mouse">
                            <label for="mouse"><i data-lucide="mouse"></i>Mouse</label>
                        </div>
                        <div class="checkbox-tag">
                            <input type="checkbox" id="headset" name="headset">
                            <label for="headset"><i data-lucide="headphones"></i>Headset</label>
                        </div>
                        <div class="checkbox-tag">
                            <input type="checkbox" id="mousepad" name="mousepad">
                            <label for="mousepad"><i data-lucide="square"></i>Mousepad</label>
                        </div>
                        <div class="checkbox-tag">
                            <input type="checkbox" id="suporte-headset" name="suporte-headset">
                            <label for="suporte-headset"><i data-lucide="anchor"></i>Suporte</label>
                        </div>
                        <div class="checkbox-tag">
                            <input type="checkbox" id="webcam" name="webcam">
                            <label for="webcam"><i data-lucide="video"></i>Webcam</label>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="form-section">
                    <legend>Localização</legend>
                    <div class="fields-grid two-columns">
                        <div class="form-group">
                            <label for="local">Prédio / Unidade</label>
                            <input type="text" id="local" name="local" required placeholder="Ex: Escritório São Paulo">
                        </div>
                        <div class="form-group">
                            <label for="setor">Setor / Departamento</label>
                            <input type="text" id="setor" name="setor" required placeholder="Ex: Financeiro">
                        </div>
                    </div>
                </fieldset>

                <footer class="form-footer">
                    <button type="submit" class="btn btn-primary">
                        Cadastrar Estação
                        <i data-lucide="arrow-right"></i>
                    </button>
                </footer>
            </form>
        </div>
    </main>
    
    <script src="./js/cadastro.js"></script>
    <script>
        lucide.createIcons();

        // Pequeno ajuste no JS para recriar o ícone de 'x' ao remover monitor
        const originalCreateIcons = lucide.createIcons;
        lucide.createIcons = (options) => {
            originalCreateIcons(options);
            // Garante que o ícone do botão de remoção seja recriado se necessário
            document.querySelectorAll('.remove-monitor-btn').forEach(btn => {
                if (!btn.querySelector('svg')) {
                    const icon = document.createElement('i');
                    icon.setAttribute('data-lucide', 'x');
                    btn.innerHTML = '';
                    btn.appendChild(icon);
                    originalCreateIcons({
                        nodes: [icon]
                    });
                }
            });
        };
    </script>
</body>
</html>

